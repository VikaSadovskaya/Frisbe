
получаем id игрока(getCurrentPlayerIndex), то запускаем анимацию руки с тарелкой, затем запускаем тарелку и сохраняем в память номер анимации(putInt)
затем делается снимок лица игрока и сохраняется в память(saveAsset(Asset asset, String name)), счет игрока также увеличивается на 1
второй игрок принимает номер анимации тарелки(getInt) из хранилища первого игрока(getPlayerStore(0)) по номеру запускается анимация прилетающей тарелки(в этот момент ее можно ловить)
если второй игрок поймал тарелку, то он может кинуть ее и тем самым увеличить свой счет +1, если не поймал то не может бросить тарелку и делается снимок игрока на снэпе уже должен будет импортирован ассет со снимком предыдущего игрока
снимок нового игрока сохранится снова в память, под снимком каждого игрока должен быть написан счет, также в память соответствующего игрока сохраняется логическое значение (true or false)в зависимости от того поймал или игрок тарелку или нет
снэп пересылается обратно первому игроку и когда игрок начинает игру, в зависимости от того помал ли предудщий игрок тарелку или нет(соответственно бросил или нет) отображается соответствующая анимация: либо прилетающая тарелка(тогда должны знать номер анимации из хранилища предыдущего игрока), либо рука с тарелкой, которую надо запустить

idle - 1
start - 2
catch - 3
catchtrue - 4
catchfalse - 5
startAnim = 1||2||3
isCatch = true||false
global.NumAnim = 0

var startAnim = 0;
var move = false
var activeSession = global.snappablesSystem.getActiveSession()
var playerId = activeSession.getCurrentPlayerIndex()
var isCatch = true;
if(playerId == 0)
{
	isCatch = activeSession.getPlayerStore(1).getBool("isCatch")
}else if(playerId == 1)
{
	isCatch = activeSession.getPlayerStore(0).getBool("isCatch")
}
if(id == 0)
{
	isCatch = true
}
if(isCatch == true)
{
	script.animFrisbee.setWeight("Idle", 1.0);
    script.animFrisbee.start("Idle", 0, -1);
}else
{
	script.animFrisbee.setWeight("Idle2", 1.0);
    script.animFrisbee.start("Idle2", 0, -1);
}

var event = script.createEvent("TouchMoveEvent");
event.bind(function(eventData)
{
	move = true
});

var event1 = script.createEvent("TouchEndEvent");
event1.bind(function(eventData)
{
	if(move == true)
	{
		var posTouch = eventData.getTouchPosition().x;
		if(posTouch < 0.3)
		{
			startAnim = 1
			
		}else if(posTouch >= 0.3 && posTouch < 0.6)
		{
			startAnim = 2
		}else if(posTouch >= 0.6 && posTouch <= 1)
		{
			startAnim = 3
		}
		global.REPOSITORY.putPlayerSaveData("startAnim", startAnim)
	}
});
function tap()
{
    global.checkLine = 1
    print("попал")
}
global.scBehaviorSystem.addCustomTriggerResponse("tap_true", tap);
function end_start()
{
	global.clientInterfaceSystem.perform(ClientInterfaceElement.ToggleCameraButton, ClientInterfaceAction.Trigger)
    global.clientInterfaceSystem.perform(ClientInterfaceElement.PlayButton, ClientInterfaceAction.Show)
	if(isFirstGame)
	{
		//result screen for first player
	}else
	{
		//general result screen
	}
	
}
global.scBehaviorSystem.addCustomTriggerResponse("end_start", end_start);


